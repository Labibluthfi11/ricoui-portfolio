---
import {
  ArrowUpRight,
  Code,
  Database,
  Globe,
  Mail,
  Monitor,
  Palette,
  Server,
  Smartphone,
} from "@lucide/astro";
import { siteConfig } from "@/config/site.js";
import social from "@/collections/social.json";
import Button from "@/components/ui/Button.astro";
import Layout from "@/layouts/Layout.astro";
import Toc from "@/components/widgets/Toc.astro";

// Data pengalaman kerja dari LinkedIn
const experiences = [
  {
    dates: "Agu 2025 - Sekarang",
    role: "Event Organizer",
    company: "PT. Ansel Muda Berkarya",
    description: "Mengelola dan mengkoordinasi berbagai event dengan tim, memastikan kelancaran acara dari planning hingga eksekusi.",
    logo: "/assets/companies/ansel.png"
  },
  {
    dates: "Jul 2025 - Sekarang",
    role: "Website Developer And Mobile Developer",
    company: "PT. Ansel Muda Berkarya",
    description: "Mengembangkan aplikasi web dan mobile menggunakan Laravel, Flutter, dan teknologi modern lainnya. Fokus pada data analysis dan MySQL optimization.",
    logo: "/assets/companies/ansel.png"
  },
  {
    dates: "Mei 2022 - Jul 2023",
    role: "Guru",
    company: "Yayasan Dakwah Islam Karawang",
    description: "Mengajar dan membimbing siswa dalam mata pelajaran teknologi informasi, mengembangkan kurikulum pembelajaran yang efektif.",
    logo: "/assets/companies/dakwah.png"
  },
  {
    dates: "Mei 2022 - Jul 2023",
    role: "Administrasi TK & TPA",
    company: "Yayasan Dakwah Islam Karawang",
    description: "Mengelola administrasi sekolah, data siswa, dan sistem informasi akademik menggunakan teknologi digital.",
    logo: "/assets/companies/dakwah.png"
  }
];

// Data pendidikan
const educations = [
  {
    school: "Politeknik IDN",
    degree: "Diploma",
    field: "Teknologi Informasi",
    skills: "Postman API, Laravel, dan teknologi web development lainnya",
    logo: "/assets/education/idn.png"
  },
  {
    school: "IDN Boarding School",
    degree: "Gelar Sarjana",
    field: "Teknologi Informasi",
    period: "Jun 2024",
    logo: "/assets/education/boarding.png"
  }
];

// Table of contents
const headings = [
  { depth: 2, slug: "about-me", text: "About Me" },
  { depth: 2, slug: "expertise", text: "Expertise" },
  { depth: 2, slug: "education", text: "Education" },
  { depth: 2, slug: "experience", text: "Experience" },
  { depth: 2, slug: "lets-connect", text: "Let's Connect" },
];

const filtered = headings.filter(h => h.depth <= 3);
---

<Layout title="About Me - Muhammad Labib Luthfi">
  <!-- Mobile TOC -->
  <div class="block lg:hidden px-7 pt-6">
    <Toc headings={filtered} />
  </div>

  <!-- Main container -->
  <div class="relative site-container mx-auto my-8">
    <div class="flex flex-col lg:flex-row gap-8 lg:gap-12 xl:gap-16">
      <!-- Left TOC - Fixed on desktop -->
      <aside class="relative hidden lg:block lg:w-40 xl:w-50 flex-shrink-0">
        <div class="toc-sticky-wrapper">
          <Toc headings={filtered} />
        </div>
      </aside>

      <!-- Right main content -->
      <main class="relative flex-1 min-w-0 w-full lg:max-w-none">
        <div
          class="w-full"
          data-aos="fade-up-xs"
          data-aos-duration="500"
          data-aos-once="true"
        >
          <h2
            id="about-me"
            class="text-2xl font-brand tracking-tight sm:text-3xl lg:text-4xl"
          >
            About Me
          </h2>
          <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>
        </div>

        <div
          class="flex items-center gap-3 mb-6"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
          <img src="/assets/home/absensi.jpg" alt="Muhammad Labib Luthfi" class="w-14 h-14 rounded-full object-cover">
          <div class="flex items-center gap-3">
            <a href="https://github.com/labibluthfi" target="_blank" class="font-brand text-[24px] text-neutral-700 dark:text-neutral-100">Muhammad Labib Luthfi</a>
            <span class="text-[0.75em] text-neutral-400">|</span>
            <a href="https://instagram.com/labibluthfi" class="flex items-center gap-1 text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200 text-sm" target="_blank">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4.5 h-4.5">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
              </svg>
              @m_labibl_11
            </a>
          </div>
        </div>

        <p
          class="text-3xl mt-2 mb-2 font-brand italic text-left text-primary-strong dark:text-primary-light"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >"Clean code, scalable systems. That's how I build."</p>

        <div
          class="social"
          data-aos="fade-up-xs"
          data-aos-delay="300"
          data-aos-duration="600"
          data-aos-once="true"
        >
          <div class="social-list flex flex-wrap gap-2 items-center justify-start mt-6 mb-8">
            <a
              href="https://github.com/Labibluthfi11"
              target="_blank"
              rel="noopener noreferrer"
              class="social-item relative group overflow-hidden rounded-xl transition-all duration-300 hover:-translate-y-2 hover:rotate-[-6deg] hover:shadow-lg"
              data-aos="fade-up-xs"
              data-aos-delay="400"
              data-aos-duration="400"
              data-aos-once="true"
            >
              <img
                src="public/assets/social/social-github.jpg"
                alt="GitHub"
                class="w-[96px] h-[96px] rounded-xl object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div class="absolute bottom-[10px] left-[12px] z-10">
                <div class="social-name font-semibold text-[10px] text-white drop-shadow-md">
                  GitHub
                </div>
                <div class="social-username text-[9px] text-white/85 drop-shadow-sm">
                  labibluthfi
                </div>
              </div>
            </a>

            <a
              href="https://www.instagram.com/m_labibl_11?igsh=cTRlNnVkZ21jb3h0"
              target="_blank"
              rel="noopener noreferrer"
              class="social-item relative group overflow-hidden rounded-xl transition-all duration-300 hover:-translate-y-2 hover:rotate-[-6deg] hover:shadow-lg"
              data-aos="fade-up-xs"
              data-aos-delay="450"
              data-aos-duration="400"
              data-aos-once="true"
            >
              <img
                src="public/assets/social/logo-ig.jpg"
                alt="Instagram"
                class="w-[96px] h-[96px] rounded-xl object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div class="absolute bottom-[10px] left-[12px] z-10">
                <div class="social-name font-semibold text-[10px] text-white drop-shadow-md">
                  Instagram
                </div>
                <div class="social-username text-[9px] text-white/85 drop-shadow-sm">
                  @m_labibl_11
                </div>
              </div>
            </a>

            <a
              href="https://wa.me/6285891096731"
              target="_blank"
              rel="noopener noreferrer"
              class="social-item relative group overflow-hidden rounded-xl transition-all duration-300 hover:-translate-y-2 hover:rotate-[-6deg] hover:shadow-lg"
              data-aos="fade-up-xs"
              data-aos-delay="500"
              data-aos-duration="400"
              data-aos-once="true"
            >
              <img
                src="public/assets/social/logo-whatsapp.jpg"
                alt="WhatsApp"
                class="w-[96px] h-[96px] rounded-xl object-cover transition-transform duration-300 group-hover:scale-105"
              />
              <div class="absolute bottom-[10px] left-[12px] z-10">
                <div class="social-name font-semibold text-[10px] text-white drop-shadow-md">
                  WhatsApp
                </div>
                <div class="social-username text-[9px] text-white/85 drop-shadow-sm">
                  Chat Me
                </div>
              </div>
            </a>
          </div>
        </div>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>

        <p
          class="text-xl font-medium text-left text-neutral-800 dark:text-neutral-100"
          data-aos="fade-up-xs"
          data-aos-delay="100"
          data-aos-duration="500"
          data-aos-once="true"
        >
          Hi, I'm Labib—a Software Engineer & Web Developer.
        </p>
        <p
          class="text-neutral-700 pb-4 pt-4 leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="200"
          data-aos-duration="500"
          data-aos-once="true"
        >
          With experience in full-stack development, I specialize in building scalable web applications and mobile solutions. My expertise spans from backend systems with Laravel and MySQL to crafting interactive user experiences with Next.js and Flutter.
        </p>
        <p
          class="text-neutral-700 leading-[1.8] dark:text-neutral-200"
          data-aos="fade-up-xs"
          data-aos-delay="300"
          data-aos-duration="500"
          data-aos-once="true"
        >
          I believe great software isn't just about writing code—it's about solving real problems efficiently. From API development to data analysis, I connect technical implementation with practical business needs to deliver solutions that scale and perform.
        </p>

        <div
          class="mt-8 mb-16 flex item-center justify-start gap-3"
          data-aos="fade-up-xs"
          data-aos-delay="400"
          data-aos-duration="500"
          data-aos-once="true"
        >
          <Button url="mailto:muhammadlabibluthfitrpl@gmail.com"> 
            <Mail size={16} /> Email Me
          </Button>
          <Button url={siteConfig.social.github} type="fill"> GitHub <ArrowUpRight size={16} /> </Button>
        </div>

        <div class="w-full border-b-1 border-dashed border-b-neutral-200 dark:border-b-neutral-700 mt-4 mb-8"></div>

        <section>
          <h2
            id="expertise"
            class="mt-8 mb-2 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >Expertise</h2>
          <div
            class="list flex flex-wrap gap-3 mt-4 mb-12 w-full items-center justify-start"
            data-aos="fade-up-xs"
            data-aos-delay="100"
            data-aos-duration="600"
            data-aos-once="true"
          >
            <!-- Backend Development -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800 dark:text-neutral-200">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Server size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  Backend Development
                </div>
              </div>
            </div>

            <!-- Web Development -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Globe size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  Web Development
                </div>
              </div>
            </div>

            <!-- Mobile Development -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Smartphone size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  Mobile Development
                </div>
              </div>
            </div>

            <!-- API Development -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Code size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  API Development
                </div>
              </div>
            </div>

            <!-- Data Analysis -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Database size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  Data Analysis
                </div>
              </div>
            </div>

            <!-- UI/UX Implementation -->
            <div class="item flex justify-start items-start flex-grow-0 flex-shrink-0 overflow-hidden gap-2 px-5 py-4 rounded-xl bg-gradient-to-b from-[f7f8f0] to-[#f1f2f9] dark:from-gray-900 dark:to-gray-800">
              <div class="flex justify-center items-center flex-grow-0 flex-shrink-0 gap-2">
                <Palette size={22} />
                <div class="flex-grow-0 flex-shrink-0 text-base font-medium text-left text-neutral-700 dark:text-neutral-200">
                  UI/UX Implementation
                </div>
              </div>
            </div>
          </div>
        </section>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>

        <section>
          <h2
            id="education"
            class="mt-12 mb-4 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >Education</h2>
          <div class="space-y-6">
            {educations.map((edu, index) => (
              <div
                class="bg-white dark:bg-gray-900 rounded-xl border border-neutral-200 dark:border-neutral-700 p-6 hover:shadow-lg transition-shadow duration-300"
                data-aos="fade-up-xs"
                data-aos-delay={100 + (index * 100)}
                data-aos-duration="500"
                data-aos-once="true"
              >
                <div class="flex items-start gap-4">
                  <div class="flex-shrink-0 w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                    <Monitor size={24} class="text-primary" />
                  </div>
                  <div class="flex-1">
                    <h3 class="text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-1">
                      {edu.school}
                    </h3>
                    <p class="text-neutral-600 dark:text-neutral-300 mb-2">
                      {edu.field}
                    </p>
                    {edu.skills && (
                      <p class="text-sm text-neutral-500 dark:text-neutral-400">
                        Skills: {edu.skills}
                      </p>
                    )}
                    {edu.period && (
                      <p class="text-sm text-neutral-500 dark:text-neutral-400 mt-1">
                        {edu.period}
                      </p>
                    )}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </section>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-12 mb-12"></div>

        <section class="experience">
          <h2
            id="experience"
            class="mt-12 mb-4 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >
            Experience
          </h2>
          <div class="px-5 py-10">
            {experiences.map((experience, index) => (
              <div
                class="pb-10 border-l border-dashed border-gray-200 last:border-l-0 dark:border-neutral-500"
                data-aos="fade-up-xs"
                data-aos-delay={200 + (index * 100)}
                data-aos-duration="500"
                data-aos-once="true"
              >
                <div class="relative -left-[42px] ml-16">
                  <div class="absolute -left-[58px] top-0 w-10 h-10 rounded-full bg-primary/10 dark:bg-primary/20 flex items-center justify-center border-4 border-white dark:border-gray-900">
                    <div class="w-3 h-3 rounded-full bg-primary"></div>
                  </div>
                  <div class="mb-1 text-sm font-medium text-primary">
                    {experience.dates}
                  </div>
                  <h3 class="text-xl font-semibold text-neutral-800 dark:text-neutral-100 mb-1">
                    {experience.role}
                  </h3>
                  <div class="text-base text-neutral-600 dark:text-neutral-300 mb-2">
                    {experience.company}
                  </div>
                  <p class="text-neutral-700 dark:text-neutral-400 leading-relaxed">
                    {experience.description}
                  </p>
                </div>
              </div>
            ))}
          </div>
        </section>

        <div class="w-full border-b-1 border-dashed border-b-gray-200 dark:border-b-neutral-700 mt-4 mb-8"></div>

        <section>
          <h2
            id="lets-connect"
            class="mt-12 mb-4 text-[28px] text-neutral-800 dark:text-neutral-200 font-brand"
            data-aos="fade-up-xs"
            data-aos-duration="500"
            data-aos-once="true"
          >Let's Connect</h2>
          <p
            class="text-sm leading-6 text-neutral-700 dark:text-neutral-300"
            data-aos="fade-up-xs"
            data-aos-delay="100"
            data-aos-duration="500"
            data-aos-once="true"
          >
            If you want to collaborate on a project or just want to say hi, feel free to <a
              href="https://www.instagram.com/m_labibl_11?igsh=cTRlNnVkZ21jb3h0"
              target="_blank"
              class="text-indigo-500 underline">reach me on Instagram</a
            >, or you can send me an <a href="mailto:muhammadlabibluthfitrpl@gmail.com" class="underline"
              >email</a
            > and I'll get back to you as soon as possible.
          </p>
        </section>
      </main>
    </div>
  </div>
</Layout>

<style>
  .toc-sticky-wrapper {
    position: sticky;
    top: 8rem;
  }
</style>